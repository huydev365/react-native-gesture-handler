{"version":3,"sources":["PanGestureHandler.ts"],"names":["panGestureHandlerProps","panGestureHandlerCustomNativeProps","panHandlerName","PanGestureHandler","name","allowedProps","baseGestureHandlerProps","config","transformProps","managePanProps","customNativeProps","validatePanGestureHandlerProps","props","Array","isArray","activeOffsetX","Error","activeOffsetY","failOffsetX","failOffsetY","minDist","transformPanGestureHandlerProps","res","undefined","activeOffsetXStart","activeOffsetXEnd","activeOffsetYStart","activeOffsetYEnd","failOffsetXStart","failOffsetXEnd","failOffsetYStart","failOffsetYEnd","__DEV__"],"mappings":"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","sourcesContent":["import createHandler from './createHandler';\r\nimport {\r\n  BaseGestureHandlerProps,\r\n  baseGestureHandlerProps,\r\n} from './gestureHandlerCommon';\r\n\r\nexport const panGestureHandlerProps = [\r\n  'activeOffsetY',\r\n  'activeOffsetX',\r\n  'failOffsetY',\r\n  'failOffsetX',\r\n  'minDist',\r\n  'minVelocity',\r\n  'minVelocityX',\r\n  'minVelocityY',\r\n  'minPointers',\r\n  'maxPointers',\r\n  'avgTouches',\r\n  'enableTrackpadTwoFingerGesture',\r\n] as const;\r\n\r\nexport const panGestureHandlerCustomNativeProps = [\r\n  'activeOffsetYStart',\r\n  'activeOffsetYEnd',\r\n  'activeOffsetXStart',\r\n  'activeOffsetXEnd',\r\n  'failOffsetYStart',\r\n  'failOffsetYEnd',\r\n  'failOffsetXStart',\r\n  'failOffsetXEnd',\r\n] as const;\r\n\r\nexport type PanGestureHandlerEventPayload = {\r\n  /**\r\n   * X coordinate of the current position of the pointer (finger or a leading\r\n   * pointer when there are multiple fingers placed) relative to the view\r\n   * attached to the handler. Expressed in point units.\r\n   */\r\n  x: number;\r\n\r\n  /**\r\n   * Y coordinate of the current position of the pointer (finger or a leading\r\n   * pointer when there are multiple fingers placed) relative to the view\r\n   * attached to the handler. Expressed in point units.\r\n   */\r\n  y: number;\r\n\r\n  /**\r\n   * X coordinate of the current position of the pointer (finger or a leading\r\n   * pointer when there are multiple fingers placed) relative to the window.\r\n   * The value is expressed in point units. It is recommended to use it instead\r\n   * of `x` in cases when the original view can be transformed as an effect of\r\n   * the gesture.\r\n   */\r\n  absoluteX: number;\r\n\r\n  /**\r\n   * Y coordinate of the current position of the pointer (finger or a leading\r\n   * pointer when there are multiple fingers placed) relative to the window.\r\n   * The value is expressed in point units. It is recommended to use it instead\r\n   * of `y` in cases when the original view can be transformed as an\r\n   * effect of the gesture.\r\n   */\r\n  absoluteY: number;\r\n\r\n  /**\r\n   * Translation of the pan gesture along X axis accumulated over the time of\r\n   * the gesture. The value is expressed in the point units.\r\n   */\r\n  translationX: number;\r\n\r\n  /**\r\n   * Translation of the pan gesture along Y axis accumulated over the time of\r\n   * the gesture. The value is expressed in the point units.\r\n   */\r\n  translationY: number;\r\n\r\n  /**\r\n   * Velocity of the pan gesture along the X axis in the current moment. The\r\n   * value is expressed in point units per second.\r\n   */\r\n  velocityX: number;\r\n\r\n  /**\r\n   * Velocity of the pan gesture along the Y axis in the current moment. The\r\n   * value is expressed in point units per second.\r\n   */\r\n  velocityY: number;\r\n};\r\n\r\ninterface CommonPanProperties {\r\n  /**\r\n   * Minimum distance the finger (or multiple finger) need to travel before the\r\n   * handler activates. Expressed in points.\r\n   */\r\n  minDist?: number;\r\n\r\n  /**\r\n   * Android only.\r\n   */\r\n  avgTouches?: boolean;\r\n\r\n  /**\r\n   * Enables two-finger gestures on supported devices, for example iPads with\r\n   * trackpads. If not enabled the gesture will require click + drag, with\r\n   * enableTrackpadTwoFingerGesture swiping with two fingers will also trigger\r\n   * the gesture.\r\n   */\r\n  enableTrackpadTwoFingerGesture?: boolean;\r\n\r\n  /**\r\n   * A number of fingers that is required to be placed before handler can\r\n   * activate. Should be a higher or equal to 0 integer.\r\n   */\r\n  minPointers?: number;\r\n\r\n  /**\r\n   * When the given number of fingers is placed on the screen and handler hasn't\r\n   * yet activated it will fail recognizing the gesture. Should be a higher or\r\n   * equal to 0 integer.\r\n   */\r\n  maxPointers?: number;\r\n\r\n  minVelocity?: number;\r\n  minVelocityX?: number;\r\n  minVelocityY?: number;\r\n}\r\n\r\nexport interface PanGestureConfig extends CommonPanProperties {\r\n  activeOffsetYStart?: number;\r\n  activeOffsetYEnd?: number;\r\n  activeOffsetXStart?: number;\r\n  activeOffsetXEnd?: number;\r\n  failOffsetYStart?: number;\r\n  failOffsetYEnd?: number;\r\n  failOffsetXStart?: number;\r\n  failOffsetXEnd?: number;\r\n}\r\n\r\nexport interface PanGestureHandlerProps\r\n  extends BaseGestureHandlerProps<PanGestureHandlerEventPayload>,\r\n    CommonPanProperties {\r\n  /**\r\n   * Range along X axis (in points) where fingers travels without activation of\r\n   * handler. Moving outside of this range implies activation of handler. Range\r\n   * can be given as an array or a single number. If range is set as an array,\r\n   * first value must be lower or equal to 0, a the second one higher or equal\r\n   * to 0. If only one number `p` is given a range of `(-inf, p)` will be used\r\n   * if `p` is higher or equal to 0 and `(-p, inf)` otherwise.\r\n   */\r\n  activeOffsetY?: number | number[];\r\n\r\n  /**\r\n   * Range along X axis (in points) where fingers travels without activation of\r\n   * handler. Moving outside of this range implies activation of handler. Range\r\n   * can be given as an array or a single number. If range is set as an array,\r\n   * first value must be lower or equal to 0, a the second one higher or equal\r\n   * to 0. If only one number `p` is given a range of `(-inf, p)` will be used\r\n   * if `p` is higher or equal to 0 and `(-p, inf)` otherwise.\r\n   */\r\n  activeOffsetX?: number | number[];\r\n\r\n  /**\r\n   * When the finger moves outside this range (in points) along Y axis and\r\n   * handler hasn't yet activated it will fail recognizing the gesture. Range\r\n   * can be given as an array or a single number. If range is set as an array,\r\n   * first value must be lower or equal to 0, a the second one higher or equal\r\n   * to 0. If only one number `p` is given a range of `(-inf, p)` will be used\r\n   * if `p` is higher or equal to 0 and `(-p, inf)` otherwise.\r\n   */\r\n  failOffsetY?: number | number[];\r\n\r\n  /**\r\n   * When the finger moves outside this range (in points) along X axis and\r\n   * handler hasn't yet activated it will fail recognizing the gesture. Range\r\n   * can be given as an array or a single number. If range is set as an array,\r\n   * first value must be lower or equal to 0, a the second one higher or equal\r\n   * to 0. If only one number `p` is given a range of `(-inf, p)` will be used\r\n   * if `p` is higher or equal to 0 and `(-p, inf)` otherwise.\r\n   */\r\n  failOffsetX?: number | number[];\r\n}\r\n\r\nexport const panHandlerName = 'PanGestureHandler';\r\n\r\nexport type PanGestureHandler = typeof PanGestureHandler;\r\n// eslint-disable-next-line @typescript-eslint/no-redeclare -- backward compatibility; see description on the top of gestureHandlerCommon.ts file\r\nexport const PanGestureHandler = createHandler<\r\n  PanGestureHandlerProps,\r\n  PanGestureHandlerEventPayload\r\n>({\r\n  name: panHandlerName,\r\n  allowedProps: [\r\n    ...baseGestureHandlerProps,\r\n    ...panGestureHandlerProps,\r\n  ] as const,\r\n  config: {},\r\n  transformProps: managePanProps,\r\n  customNativeProps: panGestureHandlerCustomNativeProps,\r\n});\r\n\r\nfunction validatePanGestureHandlerProps(props: PanGestureHandlerProps) {\r\n  if (\r\n    Array.isArray(props.activeOffsetX) &&\r\n    (props.activeOffsetX[0] > 0 || props.activeOffsetX[1] < 0)\r\n  ) {\r\n    throw new Error(\r\n      `First element of activeOffsetX should be negative, a the second one should be positive`\r\n    );\r\n  }\r\n\r\n  if (\r\n    Array.isArray(props.activeOffsetY) &&\r\n    (props.activeOffsetY[0] > 0 || props.activeOffsetY[1] < 0)\r\n  ) {\r\n    throw new Error(\r\n      `First element of activeOffsetY should be negative, a the second one should be positive`\r\n    );\r\n  }\r\n\r\n  if (\r\n    Array.isArray(props.failOffsetX) &&\r\n    (props.failOffsetX[0] > 0 || props.failOffsetX[1] < 0)\r\n  ) {\r\n    throw new Error(\r\n      `First element of failOffsetX should be negative, a the second one should be positive`\r\n    );\r\n  }\r\n\r\n  if (\r\n    Array.isArray(props.failOffsetY) &&\r\n    (props.failOffsetY[0] > 0 || props.failOffsetY[1] < 0)\r\n  ) {\r\n    throw new Error(\r\n      `First element of failOffsetY should be negative, a the second one should be positive`\r\n    );\r\n  }\r\n\r\n  if (props.minDist && (props.failOffsetX || props.failOffsetY)) {\r\n    throw new Error(\r\n      `It is not supported to use minDist with failOffsetX or failOffsetY, use activeOffsetX and activeOffsetY instead`\r\n    );\r\n  }\r\n\r\n  if (props.minDist && (props.activeOffsetX || props.activeOffsetY)) {\r\n    throw new Error(\r\n      `It is not supported to use minDist with activeOffsetX or activeOffsetY`\r\n    );\r\n  }\r\n}\r\n\r\nfunction transformPanGestureHandlerProps(props: PanGestureHandlerProps) {\r\n  type InternalPanGHKeys =\r\n    | 'activeOffsetXStart'\r\n    | 'activeOffsetXEnd'\r\n    | 'failOffsetXStart'\r\n    | 'failOffsetXEnd'\r\n    | 'activeOffsetYStart'\r\n    | 'activeOffsetYEnd'\r\n    | 'failOffsetYStart'\r\n    | 'failOffsetYEnd';\r\n  type PanGestureHandlerInternalProps = PanGestureHandlerProps &\r\n    Partial<Record<InternalPanGHKeys, number>>;\r\n\r\n  const res: PanGestureHandlerInternalProps = { ...props };\r\n\r\n  if (props.activeOffsetX !== undefined) {\r\n    delete res.activeOffsetX;\r\n    if (Array.isArray(props.activeOffsetX)) {\r\n      res.activeOffsetXStart = props.activeOffsetX[0];\r\n      res.activeOffsetXEnd = props.activeOffsetX[1];\r\n    } else if (props.activeOffsetX < 0) {\r\n      res.activeOffsetXStart = props.activeOffsetX;\r\n    } else {\r\n      res.activeOffsetXEnd = props.activeOffsetX;\r\n    }\r\n  }\r\n\r\n  if (props.activeOffsetY !== undefined) {\r\n    delete res.activeOffsetY;\r\n    if (Array.isArray(props.activeOffsetY)) {\r\n      res.activeOffsetYStart = props.activeOffsetY[0];\r\n      res.activeOffsetYEnd = props.activeOffsetY[1];\r\n    } else if (props.activeOffsetY < 0) {\r\n      res.activeOffsetYStart = props.activeOffsetY;\r\n    } else {\r\n      res.activeOffsetYEnd = props.activeOffsetY;\r\n    }\r\n  }\r\n\r\n  if (props.failOffsetX !== undefined) {\r\n    delete res.failOffsetX;\r\n    if (Array.isArray(props.failOffsetX)) {\r\n      res.failOffsetXStart = props.failOffsetX[0];\r\n      res.failOffsetXEnd = props.failOffsetX[1];\r\n    } else if (props.failOffsetX < 0) {\r\n      res.failOffsetXStart = props.failOffsetX;\r\n    } else {\r\n      res.failOffsetXEnd = props.failOffsetX;\r\n    }\r\n  }\r\n\r\n  if (props.failOffsetY !== undefined) {\r\n    delete res.failOffsetY;\r\n    if (Array.isArray(props.failOffsetY)) {\r\n      res.failOffsetYStart = props.failOffsetY[0];\r\n      res.failOffsetYEnd = props.failOffsetY[1];\r\n    } else if (props.failOffsetY < 0) {\r\n      res.failOffsetYStart = props.failOffsetY;\r\n    } else {\r\n      res.failOffsetYEnd = props.failOffsetY;\r\n    }\r\n  }\r\n\r\n  return res;\r\n}\r\n\r\nexport function managePanProps(props: PanGestureHandlerProps) {\r\n  if (__DEV__) {\r\n    validatePanGestureHandlerProps(props);\r\n  }\r\n  return transformPanGestureHandlerProps(props);\r\n}\r\n"]}