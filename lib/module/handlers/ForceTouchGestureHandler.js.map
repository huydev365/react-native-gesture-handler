{"version":3,"sources":["ForceTouchGestureHandler.ts"],"names":["React","PlatformConstants","createHandler","baseGestureHandlerProps","forceTouchGestureHandlerProps","ForceTouchFallback","Component","componentDidMount","console","warn","render","props","children","forceTouchHandlerName","ForceTouchGestureHandler","forceTouchAvailable","name","allowedProps","config"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,iBAAP,MAA8B,sBAA9B;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,SAEEC,uBAFF,QAGO,wBAHP;AAKA,OAAO,MAAMC,6BAA6B,GAAG,CAC3C,UAD2C,EAE3C,UAF2C,EAG3C,sBAH2C,CAAtC;;AAMP,MAAMC,kBAAN,SAAiCL,KAAK,CAACM,SAAvC,CAAiD;AAE/CC,EAAAA,iBAAiB,GAAG;AAClBC,IAAAA,OAAO,CAACC,IAAR,CACE,8NADF;AAGD;;AACDC,EAAAA,MAAM,GAAG;AACP,WAAO,KAAKC,KAAL,CAAWC,QAAlB;AACD;;AAT8C;;gBAA3CP,kB,yBACyB,K;;AAoD/B,OAAO,MAAMQ,qBAAqB,GAAG,0BAA9B,C,CAEP;;AACA,OAAO,MAAMC,wBAAwB,GAAGb,iBAAiB,SAAjB,IAAAA,iBAAiB,WAAjB,IAAAA,iBAAiB,CAAEc,mBAAnB,GACpCb,aAAa,CAGX;AACAc,EAAAA,IAAI,EAAEH,qBADN;AAEAI,EAAAA,YAAY,EAAE,CACZ,GAAGd,uBADS,EAEZ,GAAGC,6BAFS,CAFd;AAMAc,EAAAA,MAAM,EAAE;AANR,CAHW,CADuB,GAYpCb,kBAZG;AAcNS,wBAAD,CAAuDC,mBAAvD,GACE,CAAAd,iBAAiB,SAAjB,IAAAA,iBAAiB,WAAjB,YAAAA,iBAAiB,CAAEc,mBAAnB,KAA0C,KAD5C","sourcesContent":["import React from 'react';\r\nimport PlatformConstants from '../PlatformConstants';\r\nimport createHandler from './createHandler';\r\nimport {\r\n  BaseGestureHandlerProps,\r\n  baseGestureHandlerProps,\r\n} from './gestureHandlerCommon';\r\n\r\nexport const forceTouchGestureHandlerProps = [\r\n  'minForce',\r\n  'maxForce',\r\n  'feedbackOnActivation',\r\n] as const;\r\n\r\nclass ForceTouchFallback extends React.Component {\r\n  static forceTouchAvailable = false;\r\n  componentDidMount() {\r\n    console.warn(\r\n      'ForceTouchGestureHandler is not available on this platform. Please use ForceTouchGestureHandler.forceTouchAvailable to conditionally render other components that would provide a fallback behavior specific to your usecase'\r\n    );\r\n  }\r\n  render() {\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport type ForceTouchGestureHandlerEventPayload = {\r\n  x: number;\r\n  y: number;\r\n  absoluteX: number;\r\n  absoluteY: number;\r\n\r\n  /**\r\n   * The pressure of a touch.\r\n   */\r\n  force: number;\r\n};\r\n\r\nexport interface ForceTouchGestureConfig {\r\n  /**\r\n   *\r\n   * A minimal pressure that is required before handler can activate. Should be a\r\n   * value from range `[0.0, 1.0]`. Default is `0.2`.\r\n   */\r\n  minForce?: number;\r\n\r\n  /**\r\n   * A maximal pressure that could be applied for handler. If the pressure is\r\n   * greater, handler fails. Should be a value from range `[0.0, 1.0]`.\r\n   */\r\n  maxForce?: number;\r\n\r\n  /**\r\n   * Boolean value defining if haptic feedback has to be performed on\r\n   * activation.\r\n   */\r\n  feedbackOnActivation?: boolean;\r\n}\r\n\r\nexport interface ForceTouchGestureHandlerProps\r\n  extends BaseGestureHandlerProps<ForceTouchGestureHandlerEventPayload>,\r\n    ForceTouchGestureConfig {}\r\n\r\nexport type ForceTouchGestureHandler = typeof ForceTouchGestureHandler & {\r\n  forceTouchAvailable: boolean;\r\n};\r\n\r\nexport const forceTouchHandlerName = 'ForceTouchGestureHandler';\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-redeclare -- backward compatibility; see description on the top of gestureHandlerCommon.ts file\r\nexport const ForceTouchGestureHandler = PlatformConstants?.forceTouchAvailable\r\n  ? createHandler<\r\n      ForceTouchGestureHandlerProps,\r\n      ForceTouchGestureHandlerEventPayload\r\n    >({\r\n      name: forceTouchHandlerName,\r\n      allowedProps: [\r\n        ...baseGestureHandlerProps,\r\n        ...forceTouchGestureHandlerProps,\r\n      ] as const,\r\n      config: {},\r\n    })\r\n  : ForceTouchFallback;\r\n\r\n(ForceTouchGestureHandler as ForceTouchGestureHandler).forceTouchAvailable =\r\n  PlatformConstants?.forceTouchAvailable || false;\r\n"]}